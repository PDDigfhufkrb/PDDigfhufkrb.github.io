<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Оплата шпаргалки ПДД</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://yookassa.ru/integration/simplepay/css/yookassa_construct_form.css?v=1.29.0">
    <style>
        .container { max-width: 600px; margin: 50px auto; padding: 20px; }
        .product-info { background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="product-info text-center">
            <h4 id="productName">Шпаргалка ПДД</h4>
            <p class="h5 text-primary">99 руб.</p>
        </div>

        <form class="yoomoney-payment-form" action="https://yookassa.ru/integration/simplepay/payment" method="post" accept-charset="utf-8">
            <div class="ym-hidden-inputs">
                <input name="shopSuccessURL" type="hidden" value="https://pddigfhufkrb.github.io/success.html">
                <input name="customerNumber" type="hidden" id="customerNumber" value="">
            </div>

            <div class="ym-payment-btn-block">
                <div class="ym-input-icon-rub ym-display-none">
                    <input name="sum" placeholder="0.00" class="ym-input ym-sum-input ym-required-input" type="number" step="any" value="99">
                </div>
                <button data-text="Заплатить" class="ym-btn-pay ym-result-price">
                    <span class="ym-text-crop">Заплатить</span> 
                    <span class="ym-price-output">99,00&nbsp;₽</span>
                </button>
                <img src="https://yookassa.ru/integration/simplepay/img/iokassa-gray.svg?v=1.29.0" class="ym-logo" width="114" height="27" alt="ЮKassa">
            </div>
            
            <input name="shopId" type="hidden" value="1194993">
        </form>
    </div>

    <script src="https://yookassa.ru/integration/simplepay/js/yookassa_construct_form.js?v=1.29.0"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('product_id') || '1';
        
        const productNames = {
            '1': 'Шпаргалка ПДД - Основные правила',
            '2': 'Шпаргалка ПДД - Дорожные знаки', 
            '3': 'Шпаргалка ПДД - Разметка',
            '4': 'Шпаргалка ПДД - Сигналы светофора',
            '5': 'Шпаргалка ПДД - Скоростной режим',
            '6': 'Шпаргалка ПДД - Обгон и опережение',
            '7': 'Шпаргалка ПДД - Остановка и стоянка',
            '8': 'Шпаргалка ПДД - Перекрестки',
            '9': 'Шпаргалка ПДД - Пешеходы',
            '10': 'Шпаргалка ПДД - Буксировка',
            '11': 'Шпаргалка ПДД - Итоговый сборник'
        };
        
        document.getElementById('productName').textContent = productNames[productId] || 'Шпаргалка ПДД';
        document.getElementById('customerNumber').value = 'user-' + Date.now() + '-' + productId;
        localStorage.setItem('product_id', productId);
    </script>
</body>
</html>
