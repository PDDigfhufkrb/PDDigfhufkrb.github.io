<!DOCTYPE html>
<html>
<head>
    <title>–û–ø–ª–∞—Ç–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∏</title>
    <style>
        body {
            padding: 50px;
            font-family: Arial;
            text-align: center;
        }
        .payment-button {
            background: #28a745;
            color: white;
            padding: 25px 50px;
            font-size: 28px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin: 30px;
        }
        .payment-button:hover {
            background: #218838;
        }
        .test-info {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <h1>üí≥ –û–ø–ª–∞—Ç–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∏ –ü–î–î</h1>
    
    <div class="test-info">
        <h3>–¢–æ–≤–∞—Ä: <span id="productName">–ó–∞–≥—Ä—É–∑–∫–∞...</span></h3>
        <h2>–¶–µ–Ω–∞: <span id="productPrice">99</span> ‚ÇΩ</h2>
    </div>

    <!-- –°–ü–û–°–û–ë 1: –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ -->
    <div>
        <a href="#" id="directLink" class="payment-button">
            üéØ –°–ü–û–°–û–ë 1: –û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫—É
        </a>
    </div>

    <!-- –°–ü–û–°–û–ë 2: –§–æ—Ä–º–∞ -->
    <div>
        <form id="paymentForm" action="https://yookassa.ru/integration/simplepay/payment" method="post">
            <input type="hidden" name="shopId" value="1194993">
            <input type="hidden" name="sum" id="formSum" value="99">
            <input type="hidden" name="shopSuccessURL" id="formSuccessUrl" value="">
            
            <button type="submit" class="payment-button">
                üìù –°–ü–û–°–û–ë 2: –û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
            </button>
        </form>
    </div>

    <!-- –°–ü–û–°–û–ë 3: JavaScript -->
    <div>
        <button onclick="payWithJS()" class="payment-button">
            ‚ö° –°–ü–û–°–û–ë 3: –û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ JS
        </button>
    </div>

    <div style="margin-top: 50px;">
        <a href="success.html?product_id=2" style="color: blue; text-decoration: underline;">
            üîß –¢–µ—Å—Ç: –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—é (–±–µ–∑ –æ–ø–ª–∞—Ç—ã)
        </a>
    </div>

    <script>
        // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('product') || '2';
        const price = urlParams.get('price') || '99';

        // –ù–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
        const productNames = {
            '1': '–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –∏ —Ç–µ—Ä–º–∏–Ω—ã',
            '2': '–û–±–≥–æ–Ω –∏ –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ',
            '3': '–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å—Ç–æ—è–Ω–∫–∞',
            '4': '–ü—Ä–æ–µ–∑–¥ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–æ–≤', 
            '5': '–°–∫–æ—Ä–æ—Å—Ç–Ω–æ–π —Ä–µ–∂–∏–º',
            '6': '–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –î–¢–ü',
            '7': '–°–≤–µ—Ç–æ–≤—ã–µ –∏ –∑–≤—É–∫–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã',
            '8': '–ü–µ—à–µ—Ö–æ–¥–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã',
            '9': '–ù–∞—á–∞–ª–æ –¥–≤–∏–∂–µ–Ω–∏—è –∏ –º–∞–Ω–µ–≤—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ',
            '10': '–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–µ –ø–µ—Ä–µ–µ–∑–¥—ã',
            '11': '–û–±—â–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –≤–æ–¥–∏—Ç–µ–ª—è'
        };

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        document.getElementById('productName').textContent = productNames[productId] || '–®–ø–∞—Ä–≥–∞–ª–∫–∞ –ü–î–î';
        document.getElementById('productPrice').textContent = price;

        // Success URL
        const successUrl = `https://pddigfhufkrb.github.io/success.html?product_id=${productId}`;

        // –°–ü–û–°–û–ë 1: –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞
        const directUrl = `https://yookassa.ru/integration/simplepay/payment?shopId=1194993&sum=${price}&shopSuccessURL=${encodeURIComponent(successUrl)}`;
        document.getElementById('directLink').href = directUrl;

        // –°–ü–û–°–û–ë 2: –§–æ—Ä–º–∞
        document.getElementById('formSum').value = price;
        document.getElementById('formSuccessUrl').value = successUrl;

        // –°–ü–û–°–û–ë 3: JavaScript
        function payWithJS() {
            localStorage.setItem('last_paid_product', productId);
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = 'https://yookassa.ru/integration/simplepay/payment';
            
            const fields = [
                {name: 'shopId', value: '1194993'},
                {name: 'sum', value: price},
                {name: 'shopSuccessURL', value: successUrl}
            ];
            
            fields.forEach(field => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = field.name;
                input.value = field.value;
                form.appendChild(input);
            });
            
            document.body.appendChild(form);
            form.submit();
        }

        console.log('Product ID:', productId, 'Price:', price);
        console.log('Success URL:', successUrl);
        console.log('Direct URL:', directUrl);
    </script>
</body>
</html>
