<script>
    // Получаем параметры из URL
    const urlParams = new URLSearchParams(window.location.search);
    const productId = urlParams.get('product') || '1';
    const price = urlParams.get('price') || '99';

    // Обновляем данные формы
    document.querySelector('input[name="orderNumber"]').value = 'order_pdd_' + productId;
    document.querySelector('input[name="sum"]').value = price;
    document.querySelector('input[name="successUrl"]').value = `https://pddigfhufkrb.github.io/success.html?product_id=${productId}`;
    
    // Обновляем название товара в информации
    const productNames = {
        '1': 'Основные понятия и термины ПДД',
        '2': 'Обгон и опережение',
        '3': 'Остановка и стоянка',
        '4': 'Проезд перекрестков', 
        '5': 'Скоростной режим',
        '6': 'Действия при ДТП',
        '7': 'Световые и звуковые сигналы',
        '8': 'Пешеходные переходы',
        '9': 'Начало движения и маневрирование',
        '10': 'Расположение ТС на проезжей части',
        '11': 'Общие обязанности водителя'
    };
    
    // Обновляем информацию о товаре
    document.querySelector('.product-info h5').textContent = productNames[productId] || 'Шпаргалка ПДД';
    
    // Обновляем текст кнопки
    const button = document.querySelector('.ym-btn-pay');
    button.setAttribute('data-text', `Оплатить ${price} ₽`);
    button.querySelector('.ym-text-crop').textContent = `Оплатить ${price} ₽`;
    
    console.log('Product ID:', productId, 'Success URL:', document.querySelector('input[name="successUrl"]').value);
</script>
