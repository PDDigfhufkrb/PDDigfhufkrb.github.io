<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –ü–î–î - –ü–î–î –®–ø–∞—Ä–≥–∞–ª–∫–∏</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 0;
        }
        .btn-buy {
            background: #28a745;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
        }
        .feature-list li {
            margin-bottom: 0.5rem;
        }
        .loading {
            display: none;
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <nav class="navbar navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                ‚Üê –ù–∞–∑–∞–¥ –∫ —à–ø–∞—Ä–≥–∞–ª–∫–∞–º
            </a>
            <span class="navbar-text">
                üìö –ü–î–î –®–ø–∞—Ä–≥–∞–ª–∫–∏
            </span>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container my-5">
        <div class="row">
            <div class="col-lg-8">
                <h1 class="mb-3">–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –∏ —Ç–µ—Ä–º–∏–Ω—ã –ü–î–î</h1>
                <p class="lead">–ö–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è. –í—Å—è —Å–ª–æ–∂–Ω–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º.</p>
                
                <div class="mb-4">
                    <h4>üìñ –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ —à–ø–∞—Ä–≥–∞–ª–∫–∏?</h4>
                    <ul class="feature-list">
                        <li>‚úÖ <strong>–ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ 15+ —Ç–µ—Ä–º–∏–Ω–æ–≤</strong> - "–£—Å—Ç—É–ø–∏—Ç—å –¥–æ—Ä–æ–≥—É", "–ì–ª–∞–≤–Ω–∞—è –¥–æ—Ä–æ–≥–∞", "–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ" –∏ –¥—Ä—É–≥–∏—Ö</li>
                        <li>‚úÖ <strong>–ß–µ—Ç–∫–∏–µ –æ—Ç–ª–∏—á–∏—è</strong> - —á–µ–º "–æ–±–≥–æ–Ω" –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç "–æ–ø–µ—Ä–µ–∂–µ–Ω–∏—è", "–æ—Å—Ç–∞–Ω–æ–≤–∫–∞" –æ—Ç "—Å—Ç–æ—è–Ω–∫–∏"</li>
                        <li>‚úÖ <strong>–ù–∞–≥–ª—è–¥–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã</strong> - –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞, —á—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–ª–µ–≥–∞—é—â–µ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–µ–π</li>
                        <li>‚úÖ <strong>–ê–ª–≥–æ—Ä–∏—Ç–º—ã –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</strong> - –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –∞–Ω–∞–ª–æ–≥–∏–∏</li>
                        <li>‚úÖ <strong>–¢–∞–±–ª–∏—Ü–∞-–ø–∞–º—è—Ç–∫–∞</strong> - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</li>
                    </ul>
                </div>

                <div class="mb-4">
                    <h4>üéØ –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h4>
                    <p>–ù–µ –ø–æ–Ω–∏–º–∞—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞. –≠—Ç–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞ –¥–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç—Ä–æ–∏—Ç—Å—è –≤—Å–µ –¥–∞–ª—å–Ω–µ–π—à–µ–µ –æ–±—É—á–µ–Ω–∏–µ.</p>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card shadow">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <span class="h3 text-primary">99 ‚ÇΩ</span>
                        </div>
                        
                        <!-- –§–æ—Ä–º–∞ –¥–ª—è email -->
                        <div class="mb-3">
                            <input type="email" id="emailInput" class="form-control" placeholder="–í–∞—à email –¥–ª—è –¥–æ—Å—Ç—É–ø–∞" required>
                            <small class="text-muted">–ù–∞ —ç—Ç–æ—Ç email –ø—Ä–∏–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ</small>
                        </div>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–∫—É–ø–∫–∏ -->
                        <button class="btn btn-buy btn-lg w-100 mb-3" onclick="initPayment()" id="buyButton">
                            üõí –ö—É–ø–∏—Ç—å —ç—Ç—É —à–ø–∞—Ä–≥–∞–ª–∫—É
                        </button>

                        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
                        <div class="loading" id="loadingIndicator">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            </div>
                            <p class="mt-2">–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É...</p>
                        </div>
                        
                        <small class="text-muted">
                            ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞<br>
                            ‚úÖ PDF-—Ñ–æ—Ä–º–∞—Ç<br>
                            ‚úÖ –ú–æ–∂–Ω–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å
                        </small>
                    </div>
                </div>

                <div class="card mt-3">
                    <div class="card-body">
                        <h6>üìä –ö–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —ç—Ç–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞?</h6>
                        <ul class="small mb-0">
                            <li>–ù–∞—á–∏–Ω–∞—é—â–∏–º –≤–æ–¥–∏—Ç–µ–ª—è–º</li>
                            <li>–¢–µ–º, –∫—Ç–æ –≥–æ—Ç–æ–≤–∏—Ç—Å—è –∫ —ç–∫–∑–∞–º–µ–Ω—É</li>
                            <li>–í–æ–¥–∏—Ç–µ–ª—è–º —Å–æ —Å—Ç–∞–∂–µ–º –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
                        </ul>
                    </div>
                </div>

                <div class="card mt-3">
                    <div class="card-body">
                        <h6>üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h6>
                        <ol class="small">
                            <li>–í–≤–æ–¥–∏—Ç–µ email</li>
                            <li>–ù–∞–∂–∏–º–∞–µ—Ç–µ "–ö—É–ø–∏—Ç—å"</li>
                            <li>–û–ø–ª–∞—á–∏–≤–∞–µ—Ç–µ —á–µ—Ä–µ–∑ –ÆKass—É</li>
                            <li>–°—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ—Ç–µ PDF-—Ñ–∞–π–ª</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="bg-light py-4 mt-5">
        <div class="container text-center text-muted small">
            <p>üìß example@pdd.ru</p>
            <p class="mb-0"><a href="policy.html" class="text-muted">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></p>
        </div>
    </footer>

    <script>
        async function initPayment() {
            const emailInput = document.getElementById('emailInput');
            const buyButton = document.getElementById('buyButton');
            const loadingIndicator = document.getElementById('loadingIndicator');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ email
            if (!emailInput.value || !emailInput.value.includes('@')) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å');
                return;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            buyButton.style.display = 'none';
            loadingIndicator.style.display = 'block';

            try {
                // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –ø—É—Ç–∏ –∫ API
                const apiPaths = [
                    '/api/payment/create',
                    '/api/create-payment',
                    'https://your-domain.vercel.app/api/payment/create'
                ];

                let response;
                let lastError;

                for (const apiPath of apiPaths) {
                    try {
                        console.log('–ü—Ä–æ–±—É–µ–º –ø—É—Ç—å:', apiPath);
                        response = await fetch(apiPath, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                product_id: 1,
                                price: 99,
                                email: emailInput.value
                            })
                        });
                        
                        if (response.ok) break;
                        
                    } catch (error) {
                        lastError = error;
                        console.log('–û—à–∏–±–∫–∞ –¥–ª—è –ø—É—Ç–∏', apiPath, error);
                        continue;
                    }
                }

                if (!response || !response.ok) {
                    throw new Error(lastError || 'API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç');
                }

                const data = await response.json();
                console.log('–û—Ç–≤–µ—Ç –æ—Ç API:', data);
                
                if (data.success) {
                    window.location.href = data.payment_url;
                } else {
                    alert('–û—à–∏–±–∫–∞ –ø–ª–∞—Ç–µ–∂–∞: ' + (data.error || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                    buyButton.style.display = 'block';
                    loadingIndicator.style.display = 'none';
                }
            } catch (error) {
                console.error('–ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:', error);
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:\n1. –§–∞–π–ª API —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–ø–∫–µ /api/payment/create.js\n2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel\n3. –î–æ–º–µ–Ω –≤ SITE_URL');
                buyButton.style.display = 'block';
                loadingIndicator.style.display = 'none';
            }
        }

        document.getElementById('emailInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                initPayment();
            }
        });
    </script>
</body>
</html>
